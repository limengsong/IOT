<script type="text/javascript">
    RED.nodes.registerType('modbus', {
        category: 'SCALE',
        color: '#8A8A8A',
        defaults: {
            name: {
                value: "",
                required: true
            },
            devID: {
                value: "",
                required: true
            },
            funCode: {
                value: "",
                required: true
            },
            dataType: {
                value: "",
                required: true
            },
            startAddress: {
                value: "",
                required: true
            },
            length: {
                value: "",
                required: true
            },
            devType: {
                type: "modbus-config",
                required: true
            }
        },
        inputs: 1,
        outputs: 1,
        icon: "./icons/modbus.png",
        label: function () {
            return this.name || this._("modbus.info.name");
        },
        //在显示对话框之前立即调用
        oneditprepare: async function () {
            let node = this;

        },
        // 在编辑对话框正常时调用:
        oneditsave: function () {

        },
        // 在取消编辑对话框时调用:
        oneditcancel: function () {

        },
        // 在按下配置节点的编辑对话框中的删除按钮时调用:
        oneditdelete: function () {

        },
        // 在调整编辑对话框大小时调用
        oneditresize: function () {

        }
    });
</script>

<script type="text/x-red" data-template-name="modbus">
    <div class="form-row">
        <label for="node-input-name" data-i18n="public.name">名称</label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]tip.name">
    </div>
    <div class="form-row">
        <label for="node-input-devType" data-i18n="modbus.public.devType"></label>
        <select type="text" id="node-input-devType" style="width:70%;">
            <option value="null">不选择</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-devID" data-i18n="public.devID"></label>
        <input type="text" id="node-input-devID" data-i18n="[placeholder]tip.devID">
    </div>
    <div class="form-row">
        <label for="node-input-funCode" data-i18n="public.funCode"></label>
        <select type="text" id="node-input-funCode" style="width:70%;">
            <option value="1" selected>COIL STATUS</option>
            <option value="2">INPUT STATUS</option>
            <option value="3">HOLDING REGISTER</option>
            <option value="4">INPUT REGISTRT</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-dataType" data-i18n="public.dataType"></label>
        <input type="text" id="node-input-dataType" data-i18n="[placeholder]tip.dataType">
    </div>
    <div class="form-row">
        <label for="node-input-startAddress" data-i18n="public.startAddress"></label>
        <input type="text" id="node-input-startAddress" data-i18n="[placeholder]tip.startAddress">
    </div>

    <div class="form-row">
        <label for="node-input-length" data-i18n="public.length"></label>
        <input type="text" id="node-input-length" data-i18n="[placeholder]tip.length">
    </div>

   
</script>
<script type="text/x-red" data-help-name="modbus">
    <p>modbus终端设备</p>
</script>